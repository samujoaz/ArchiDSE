include main.txt;
include slice.txt;
include filter.txt;
include write_buffer.txt;

component_instance main_behaviour main main_timing_characs;
component_instance slice_behaviour slice1 slice_timing_characs;
component_instance slice_behaviour slice2 slice_timing_characs;
component_instance slice_behaviour slice3 slice_timing_characs;
component_instance slice_behaviour slice4 slice_timing_characs;
component_instance slice_behaviour slice5 slice_timing_characs;
component_instance slice_behaviour slice6 slice_timing_characs;
component_instance slice_behaviour slice7 slice_timing_characs;
component_instance slice_behaviour slice8 slice_timing_characs;
component_instance slice_behaviour slice10 slice_timing_characs;
component_instance filter_behaviour filter1 filter_timing_characs;
component_instance filter_behaviour filter2 filter_timing_characs;
component_instance filter_behaviour filter3 filter_timing_characs;
component_instance filter_behaviour filter4 filter_timing_characs;
component_instance filter_behaviour filter5 filter_timing_characs;
component_instance filter_behaviour filter6 filter_timing_characs;
component_instance filter_behaviour filter7 filter_timing_characs;
component_instance filter_behaviour filter8 filter_timing_characs;
component_instance filter_behaviour filter10 filter_timing_characs;
component_instance write_buffer_behaviour write_buffer write_buffer_timing_characs;

component_instance Timer_impl t1 timer;
configuration t1->configure_timerspec_and_sched_fifo( 0, 10000, 0, 125000000, true, 10 );

connection( asynchronous ) cnx_main t1.tick main.input_timer;
configuration cnx_main.configure_priority_and_sched_fifo( 15, true );
configuration cnx_main.configure_affinity( 1 );

connection( asynchronous ) cnx_slice1 main.comm_slice1 slice1.input;
configuration cnx_slice1.configure_priority_and_sched_fifo( 14, true );
configuration cnx_slice1.configure_affinity( 2 );
connection( asynchronous ) cnx_slice2 main.comm_slice2 slice2.input;
configuration cnx_slice2.configure_priority_and_sched_fifo( 14, true );
configuration cnx_slice2.configure_affinity( 3 );
connection( asynchronous ) cnx_slice3 main.comm_slice3 slice3.input;
configuration cnx_slice3.configure_priority_and_sched_fifo( 13, true );
configuration cnx_slice3.configure_affinity( 4 );
connection( asynchronous ) cnx_slice4 main.comm_slice4 slice4.input;
configuration cnx_slice4.configure_priority_and_sched_fifo( 13, true );
configuration cnx_slice4.configure_affinity( 1 );
connection( asynchronous ) cnx_slice5 main.comm_slice5 slice5.input;
configuration cnx_slice5.configure_priority_and_sched_fifo( 12, true );
configuration cnx_slice5.configure_affinity( 2 );
connection( asynchronous ) cnx_slice6 main.comm_slice6 slice6.input;
configuration cnx_slice6.configure_priority_and_sched_fifo( 12, true );
configuration cnx_slice6.configure_affinity( 3 );
connection( asynchronous ) cnx_slice7 main.comm_slice7 slice7.input;
configuration cnx_slice7.configure_priority_and_sched_fifo( 11, true );
configuration cnx_slice7.configure_affinity( 4 );
connection( asynchronous ) cnx_slice8 main.comm_slice8 slice8.input;
configuration cnx_slice8.configure_priority_and_sched_fifo( 11, true );
configuration cnx_slice8.configure_affinity( 1 );
connection( asynchronous ) cnx_slice10 main.comm_slice10 slice10.input;
configuration cnx_slice10.configure_priority_and_sched_fifo( 10, true );
configuration cnx_slice10.configure_affinity( 2 );

connection( asynchronous ) cnx_filter1 slice1.output filter1.input;
configuration cnx_filter1.configure_priority_and_sched_fifo( 10, true );
configuration cnx_filter1.configure_affinity( 3 );
connection( asynchronous ) cnx_filter2 slice2.output filter2.input;
configuration cnx_filter2.configure_priority_and_sched_fifo( 10, true );
configuration cnx_filter2.configure_affinity( 4 );
connection( asynchronous ) cnx_filter3 slice3.output filter3.input;
configuration cnx_filter3.configure_priority_and_sched_fifo( 10, true );
configuration cnx_filter3.configure_affinity( 1 );
connection( asynchronous ) cnx_filter4 slice4.output filter4.input;
configuration cnx_filter4.configure_priority_and_sched_fifo( 8, true );
configuration cnx_filter4.configure_affinity( 2 );
connection( asynchronous ) cnx_filter5 slice5.output filter5.input;
configuration cnx_filter5.configure_priority_and_sched_fifo( 8, true );
configuration cnx_filter5.configure_affinity( 3 );
connection( asynchronous ) cnx_filter6 slice6.output filter6.input;
configuration cnx_filter6.configure_priority_and_sched_fifo( 8, true );
configuration cnx_filter6.configure_affinity( 4 );
connection( asynchronous ) cnx_filter7 slice7.output filter7.input;
configuration cnx_filter7.configure_priority_and_sched_fifo( 7, true );
configuration cnx_filter7.configure_affinity( 0 );
connection( asynchronous ) cnx_filter8 slice8.output filter8.input;
configuration cnx_filter8.configure_priority_and_sched_fifo( 7, true );
configuration cnx_filter8.configure_affinity( 0 );
connection( asynchronous ) cnx_filter10 slice10.output filter10.input;
configuration cnx_filter10.configure_priority_and_sched_fifo( 7, true );
configuration cnx_filter10.configure_affinity( 0 );


connection( asynchronous ) cnx_out1 filter1.output main.input_slice1;
configuration cnx_out1.configure_priority_and_sched_fifo( 6, true );
configuration cnx_out1.configure_affinity( 0 );
connection( asynchronous ) cnx_out2 filter2.output main.input_slice2;
configuration cnx_out2.configure_priority_and_sched_fifo( 6, true );
configuration cnx_out2.configure_affinity( 0 );
connection( asynchronous ) cnx_out3 filter3.output main.input_slice3;
configuration cnx_out3.configure_priority_and_sched_fifo( 6, true );
configuration cnx_out3.configure_affinity( 0 );
connection( asynchronous ) cnx_out4 filter4.output main.input_slice4;
configuration cnx_out4.configure_priority_and_sched_fifo( 5, true );
configuration cnx_out4.configure_affinity( 0 );
connection( asynchronous ) cnx_out5 filter5.output main.input_slice5;
configuration cnx_out5.configure_priority_and_sched_fifo( 5, true );
configuration cnx_out5.configure_affinity( 0 );
connection( asynchronous ) cnx_out6 filter6.output main.input_slice6;
configuration cnx_out6.configure_priority_and_sched_fifo( 6, true );
configuration cnx_out6.configure_affinity( 0 );
connection( asynchronous ) cnx_out7 filter7.output main.input_slice7;
configuration cnx_out7.configure_priority_and_sched_fifo( 6, true );
configuration cnx_out7.configure_affinity( 0 );
connection( asynchronous ) cnx_out8 filter8.output main.input_slice8;
configuration cnx_out8.configure_priority_and_sched_fifo( 5, true );
configuration cnx_out8.configure_affinity( 0 );
connection( asynchronous ) cnx_out10 filter10.output main.input_slice10;
configuration cnx_out10.configure_priority_and_sched_fifo( 5, true );
configuration cnx_out10.configure_affinity( 0 );

connection( asynchronous ) cnx_write_buffer main.comm_write_buffer write_buffer.input;
configuration cnx_write_buffer.configure_priority_and_sched_fifo( 15, true );
configuration cnx_write_buffer.configure_affinity( 0 );


entry_point t1.start.run;
final_point t1.stop.run;
